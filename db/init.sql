create table room (
    id integer not null unique,
    name text not null,
    number_of_chairs integer,
    has_projector integer,
    has_sound_equipment integer,
    has_disabled_access integer,
    has_wifi integer,
    has_ethernet integer,
    primary key(id autoincrement)
);

insert into room (id,name,number_of_chairs,has_projector,has_sound_equipment,has_disabled_access,has_wifi,has_ethernet) values
    ( 1,"4 Palihue",    30,0,1,1,1,0),
    ( 2,"5 Palihue",    30,0,1,0,0,0),
    ( 3,"8 Palihue",    50,1,1,1,1,0),
    ( 4,"10 Palihue",   20,0,0,0,0,1),
    ( 5,"11 Palihue",   40,1,0,1,0,1),
    ( 6,"12 Palihue",   50,0,1,0,1,0),
    ( 7,"13 Palihue",   50,0,1,0,1,0),
    ( 8,"16 Palihue",   50,1,1,0,0,1),
    ( 9,"Aula 2 DCIC",  30,1,0,0,0,0),
    (10,"Aula 10 DCIC", 30,1,0,0,0,0),
    (11,"LP001",        20,1,1,0,0,1),
    (12,"LP004",        20,1,1,0,0,0),
    (13,"LP005",        10,1,1,1,0,1);

create table event (
    id integer not null unique,
    name text not null,
    description text,
    host text not null,
    attendance integer not null,
    room_id integer not null,
    day_of_week integer not null,
    hours_begin integer not null,
    minutes_begin integer not null,
    hours_end integer not null,
    minutes_end integer not null,
    foreign key(room_id) references room(id) on update cascade on delete cascade,
    primary key(id autoincrement)
);

insert into event (id,name,host,attendance,room_id,day_of_week,hours_begin,minutes_begin,hours_end,minutes_end) values
    ( 1,"Lógica para Ciencias de la Computación","Marcelo Falappa",        69, 7,1, 8,0,12,0),
    ( 2,"IPOO","Luciano Tamargo",                                          98, 8,1, 8,0,12,0),
    ( 3,"Redes de Computadoras","Alejandro Stankevicius",                  64, 6,1, 8,0,12,0),
    ( 4,"Arquitectura y Diseño de Sistemas","Elsa Estévez",                44,12,1, 8,0,12,0),
    ( 5,"Computación Gráfica","Silvia Castro",                             11,13,1,10,0,12,0),
    ( 6,"Resolución de Problemas y Algoritmos","Alejandro García",         99, 3,1,14,0,18,0),
    ( 7,"Análisis y Diseño de Sistemas","Mercedes Vitturini",              24,13,1,14,0,18,0),
    ( 8,"Requerimientos de Sistemas","Sonia Rueda",                        54, 5,1,16,0,20,0),
    ( 9,"Diseño y Desarrollo de Software","Sebastián Gottifredi",          89, 9,1,16,0,20,0),
    (10,"Redes y Teleprocesamiento","Carlos Matrángolo",                   19,12,1,16,0,20,0),
    (11,"Sistemas Distribuidos","Karina Cenci",                             1,11,1,18,0,22,0),
    (12,"Teoría de la Computabilidad","Carlos Chesñevar",                  19, 3,2, 8,0,12,0),
    (13,"Lenguajes Formales y Autómatas","Ana Maguitman",                  48, 8,2, 8,0,12,0),
    (14,"Algoritmos y Complejidad","Pablo Fillottrani",                    25, 7,2, 8,0,12,0),
    (15,"Arquitectura de Computadoras","Dana Urribarri",                   64, 1,2, 8,0,12,0),
    (16,"Resolución de Problemas y Algoritmos","Alejandro García",         57, 2,2,14,0,18,0),
    (17,"Estructuras de Datos","Sergio Gómez",                             20, 3,2,14,0,18,0),
    (18,"Lenguajes de Programación","Laura Cobo",                          82,13,2,14,0,16,0),
    (19,"Arquitectura de Computadoras para Ingeniería","Dana Urribarri",   49, 7,2,14,0,18,0),
    (20,"Ingeniería de Aplicaciones Web","Diego Martínez",                 15,12,2,14,0,18,0),
    (21,"Seguridad en Sistemas","Leonardo De Matteis",                     44,13,2,16,0,20,0),
    (22,"Lenguajes de Programación","Laura Cobo",                          21, 9,2,16,0,18,0),
    (23,"Requerimientos de Sistemas","Sonia Rueda",                        45, 2,2,18,0,20,0),
    (24,"Resolución de Problemas y Algoritmos","Alejandro García",         35, 3,3,14,0,18,0),
    (25,"IPOO","Luciano Tamargo",                                          75, 8,3, 8,0,12,0),
    (26,"Requerimientos de Sistemas","Sonia Rueda",                        48, 4,3,16,0,20,0),
    (27,"Gestión de Calidad en el Software","Gerardo Simari",              75, 7,3,18,0,20,0),
    (28,"Sistemas Distribuidos","Karina Cenci",                            17, 9,3, 8,0,12,0),
    (29,"Diseño y Desarrollo de Software","Sebastián Gottifredi",          17, 9,3,16,0,20,0),
    (30,"Redes de Computadoras","Alejandro Stankevicius",                  15, 6,3, 8,0,12,0),
    (31,"Computación Gráfica","Silvia Castro",                             47,13,3, 8,0,12,0),
    (32,"Arquitectura y Diseño de Sistemas","Elsa Estévez",                27,12,3, 8,0,12,0),
    (33,"Teoría de la Computabilidad","Carlos Chesñevar",                  76, 3,4, 8,0,12,0),
    (34,"Algoritmos y Complejidad","Pablo Fillottrani",                     5, 7,4, 8,0,12,0),
    (35,"Arquitectura de Computadoras","Dana Urribarri",                   59, 1,4, 8,0,12,0),
    (36,"Resolución de Problemas y Algoritmos","Alejandro García",         60, 8,4,14,0,18,0),
    (37,"Estructuras de Datos","Sergio Gómez",                             57, 3,4,14,0,18,0),
    (38,"Lenguajes de Programación","Laura Cobo",                          61, 9,4,14,0,18,0),
    (39,"Análisis y Diseño de Sistemas","Mercedes Vitturini",              55,10,4,14,0,18,0),
    (40,"Arquitectura de Computadoras para Ingeniería","Dana Urribarri",   79, 7,4,14,0,18,0),
    (41,"Redes y Teleprocesamiento","Carlos Matrángolo",                   20,13,4,14,0,16,0),
    (42,"Ingeniería de Aplicaciones Web","Diego Martínez",                 47,12,4,14,0,18,0),
    (43,"Seguridad en Sistemas","Leonardo De Matteis",                     70,13,4,16,0,20,0),
    (44,"Lenguajes Formales y Autómatas","Ana Maguitman",                  56, 8,5, 8,0,12,0),
    (45,"Lógica para Ciencias de la Computación","Marcelo Falappa",         8, 7,5, 8,0,12,0),
    (46,"Computación Gráfica","Silvia Castro",                             28,13,5, 8,0,12,0),
    (47,"Gestión de Calidad en el Software","Gerardo Simari",              33, 5,5,16,0,20,0),
    (48,"Lógica para Ciencias de la Computación","Marcelo Falappa",        69, 7,6, 8,0,12,0),
    (49,"IPOO","Luciano Tamargo",                                          98, 8,6, 8,0,12,0),
    (50,"Redes de Computadoras","Alejandro Stankevicius",                  64, 6,6, 8,0,12,0),
    (51,"Arquitectura y Diseño de Sistemas","Elsa Estévez",                44,12,6, 8,0,12,0),
    (52,"Computación Gráfica","Silvia Castro",                             11,13,6,10,0,12,0),
    (53,"Resolución de Problemas y Algoritmos","Alejandro García",         99, 3,6,14,0,18,0),
    (54,"Análisis y Diseño de Sistemas","Mercedes Vitturini",              24,13,6,14,0,18,0),
    (55,"Requerimientos de Sistemas","Sonia Rueda",                        54, 5,6,16,0,20,0),
    (56,"Diseño y Desarrollo de Software","Sebastián Gottifredi",          89, 9,6,16,0,20,0),
    (57,"Redes y Teleprocesamiento","Carlos Matrángolo",                   19,12,6,16,0,20,0),
    (58,"Sistemas Distribuidos","Karina Cenci",                             1,11,6,18,0,22,0),
    (59,"Teoría de la Computabilidad","Carlos Chesñevar",                  19, 3,0, 8,0,12,0),
    (60,"Lenguajes Formales y Autómatas","Ana Maguitman",                  48, 8,0, 8,0,12,0),
    (61,"Algoritmos y Complejidad","Pablo Fillottrani",                    25, 7,0, 8,0,12,0),
    (62,"Arquitectura de Computadoras","Dana Urribarri",                   64, 1,0, 8,0,12,0),
    (63,"Resolución de Problemas y Algoritmos","Alejandro García",         57, 2,0,14,0,18,0),
    (64,"Estructuras de Datos","Sergio Gómez",                             20, 3,0,14,0,18,0),
    (65,"Lenguajes de Programación","Laura Cobo",                          82,13,0,14,0,16,0),
    (66,"Arquitectura de Computadoras para Ingeniería","Dana Urribarri",   49, 7,0,14,0,18,0),
    (67,"Ingeniería de Aplicaciones Web","Diego Martínez",                 15,12,0,14,0,18,0),
    (68,"Seguridad en Sistemas","Leonardo De Matteis",                     44,13,0,16,0,20,0),
    (69,"Lenguajes de Programación","Laura Cobo",                          21, 9,0,16,0,18,0),
    (70,"Requerimientos de Sistemas","Sonia Rueda",                        45, 2,0,18,0,20,0);

create view event_room as
    select
        e.id as event_id,
        e.name as event_name,
        e.description as event_description,
        e.host as event_host,
        e.attendance as event_attendance,
        e.day_of_week as event_day_of_week,
        e.hours_begin as event_hours_begin,
        e.minutes_begin as event_minutes_begin,
        e.hours_end as event_hours_end,
        e.minutes_end as event_minutes_end,
        r.id as room_id,
        r.name as room_name,
        r.number_of_chairs as room_number_of_chairs,
        r.has_projector as room_has_projector,
        r.has_sound_equipment as room_has_sound_equipment,
        r.has_disabled_access as room_has_disabled_access,
        r.has_wifi as room_has_wifi,
        r.has_ethernet as room_has_ethernet
    from event e
    inner join room r on e.room_id = r.id
    order by e.day_of_week, e.hours_begin, e.minutes_begin;

create table announcement (
	id integer not null unique,
	title text not null,
	message text not null,
	writer text,
	priority text not null,
    photo text,
	timestamp_begin integer not null,
	timestamp_end integer not null,
	timestamp_create integer not null,
	timestamp_update integer,
	primary key(id autoincrement)
);

